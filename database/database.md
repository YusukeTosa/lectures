# 目次
1. 基礎知識
2. DB設計
3. SQL

## 目標
DB設計タスクに共通する基本的な知識と技術を習得する。

# 1.基礎知識
* システムにおけるDBの立ち位置  
データの保管庫。複数のシステムで扱われるデータも統一的に管理。  
システム上では、データを処理するプログラムとは独立に扱われる。  
さらに、DBとシステムの他の要素の間にはDBMS(database management system)というデータを管理するためのインターフェースが存在し、実際のDBからのデータの入出力はDBMSが行っている。  
<br>
* RDBの構造  
データを2次元の表で管理。行をそれぞれのデータ、列をデータを構成する要素とする。  
表と表の間に関連性を持たせることが可能。  
    <dl>
        <dt>・エンティティ</dt>
        <dd>データを格納する大きな単位。</dd>
        <dt>・属性</dt>
        <dd>エンティティ内に格納する具体的な情報。</dd>
        <dt>・リレーション</dt>
        <dd>エンティティ間を関連付ける情報。外部キーは必ず主キーを参照する。(後述)
        </dd>
    </dl>
<br>
<br>

* 主キー、外部キー、正規形  
    <dl>
        <dt>・主キー</dt>
        <dd>各テーブルに1つ存在。データ内容の重複がなく、それぞれのデータを区別するためのキー。複数の列をまとめて主キー扱いすることもある。</dd>
        <dt>・外部キー</dt>
        <dd>テーブル間を関連付けるためのキー。1to1, 1toM, MtoMの3種類がある。</dd>
        <dt>・正規形</dt>
        <dd>データがどれだけ管理しやすい形になっているか。</dd>
    </dl>
<br>

* 各種制約(not null, unique)
    <dl>
        <dt>・not null</dt>
        <dd>データの内容が空の状態で格納されるのを制限する。</dd>
        <dt>・unique</dt>
        <dd>データ間で内容の重複が起こるのを制限する。主キーには必ず付される。複数のキーをまとめてunique制約を課す場合もある。</dd>
    </dl>

# 2.DB設計
* DB設計の手順
    1. DBに格納する情報を洗い出す。(正規化されていない論理モデル)
    2. 論理モデルの修正
        * 正規化：従属関係を排除して、エンティティをできる限り細かい単位に分ける。
    3. 物理モデルの設計(どのDBを使うか、サーバーは何を使うか)
    4. 物理モデルの作成

* ER図の書き方  
https://erdplus.com/  

* 注意すべき事  
    * 管理する必要があるデータのみを含める
    * 必要なデータは全てそろえる
    * 正規化する
    * 1to1で十分なリレーションを1toMやMtoMにしない。1toMで十分なリレーションをMtoMにしない。
    * 認証情報は分離するのが望ましい
    * MtoMは中間テーブルを作成
    * logテーブルも必要なら作る

# 3.SQL
* RDBの種類  
    代表的なOSSのみ紹介  
    * SQLite
    * MySQL
    * PostgreSQL
    * MariaDB

* SQL基本文法
    * create
    * insert
    * update
    * delete
    * select
